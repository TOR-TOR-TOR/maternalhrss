{% comment %}
Responsive table container with title, optional actions, loading/empty states, and footer slot.

Usage example:
{% include "components/table_container.html" with title="Overdue Facilities" empty=not facilities loading=is_loading %}
  {% block table_content %}
    <table class="min-w-full divide-y divide-gray-200">
      <!-- your table here -->
    </table>
  {% endblock %}

  {% block table_footer %}
    <!-- optional pagination or summary -->
  {% endblock %}
{% endcomment %}

<div class="overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm transition-shadow hover:shadow-md">
  <!-- Header -->
  {% if title or actions %}
    <div class="flex items-center justify-between border-b border-gray-200 px-4 py-3 sm:px-6">
      <h3 class="text-lg font-semibold text-gray-900">{{ title }}</h3>
      {% if actions %}
        <div class="flex items-center gap-3">
          {{ actions|safe }}
        </div>
      {% endif %}
    </div>
  {% endif %}

  <!-- Content Area -->
  <div class="overflow-x-auto">
    {% if loading %}
      <div class="flex min-h-[200px] items-center justify-center p-8 text-gray-500">
        <div class="mr-3 h-6 w-6 animate-spin rounded-full border-4 border-t-emerald-600 border-gray-200"></div>
        Loading data...
      </div>

    {% elif empty %}
      {% include "components/empty-state.html" with 
        message=empty_message|default:"No records found" 
        icon=empty_icon|default:"search" 
        action_text=action_text 
        action_url=action_url 
      %}

    {% else %}
      {% block table_content %}
        <!-- Fallback if no content provided -->
        <div class="p-8 text-center text-gray-500">No table content provided</div>
      {% endblock %}
    {% endif %}
  </div>

  <!-- Footer -->
  {% if show_footer or block.table_footer %}
    <div class="border-t border-gray-200 px-4 py-3 sm:px-6 text-sm text-gray-600">
      {% block table_footer %}
        <!-- Default footer if needed -->
        Showing 1 to 10 of 50 entries
      {% endblock %}
    </div>
  {% endif %}
</div>